<!DOCTYPE html>
<![if !IE]>
<script>
    (function () {
        try {
            var a = new Uint8Array(1);
            return; //no need
        } catch (e) {
        }

        function subarray(start, end) {
            return this.slice(start, end);
        }

        function set_(array, offset) {
            if (arguments.length < 2) offset = 0;
            for (var i = 0, n = array.length; i < n; ++i, ++offset)
                this[offset] = array[i] & 0xFF;
        }

        // we need typed arrays
        function TypedArray(arg1) {
            var result;
            if (typeof arg1 === "number") {
                result = new Array(arg1);
                for (var i = 0; i < arg1; ++i)
                    result[i] = 0;
            } else
                result = arg1.slice(0);
            result.subarray = subarray;
            result.buffer = result;
            result.byteLength = result.length;
            result.set = set_;
            if (typeof arg1 === "object" && arg1.buffer)
                result.buffer = arg1.buffer;

            return result;
        }

        window.Uint8Array = TypedArray;
        window.Uint32Array = TypedArray;
        window.Int32Array = TypedArray;
    })();
</script>
<![endif]>
<meta http-equiv="X-UA-Compatible" content="IE=Edge"/>

<body>
<canvas id="videoCanvas" width="1274" height="542">
</canvas>
<script type="text/javascript" src="mpgInterpreter.js"></script>
<script type="text/javascript">
    var canvas = document.getElementById('videoCanvas');
    var player = new MAGIC('out.mpg', canvas);
</script>
</body>
</html>
